<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>The Phel Language</title>
  <link rel="stylesheet" href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;site.css"/>
</head>

<body>
  

<div class="documentation">
    <aside class="documentation__sidebar">
        <div class="logo">
            <svg class="phel-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200.3 167.7"><path d="M6 66l95 96h36V93l-36-74H42L6 56v106h36l24-35"/><path d="M137 93l58-3-12-58-32-26h-34l-16 13-23 9-12 22 46 52z"/><path d="M195 90l-12 57h-13l-2-56M170 147l-13-11h12"/></svg>
        </div>

        <input type="checkbox" id="menu_checkbox">
        <label for="menu_checkbox">
            <svg viewBox="0 0 32 32">
                <path d="M3,3 29,3 M3,16 29,16 M3,29 29,29"></path>
            </svg>
            Menu
        </label>
        <nav>
            <ol>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;getting-started&#x2F;">Getting started</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;basic-types&#x2F;">Basic Types</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;numbers-and-arithmetic&#x2F;">Numbers and Arithmetic</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;truth-and-boolean-operations&#x2F;">Truth and Boolean operations</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;control-flow&#x2F;">Control flow</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;global-and-local-bindings&#x2F;">Global and local bindings</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;functions-and-recursion&#x2F;">Functions and Recursion</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;tuple&#x2F;">Tuple</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;array&#x2F;">Array (TODO)</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;table&#x2F;">Table (TODO)</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;destructuring&#x2F;">Destructuring</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;macros&#x2F;">Macros (TODO)</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;namespaces&#x2F;">Namespaces</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;php-interop&#x2F;">PHP Interop</a>
                    </li>
                
                    <li class="">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;api&#x2F;">API</a>
                    </li>
                
                    <li class="active">
                        <a href="http:&#x2F;&#x2F;127.0.0.1:1111&#x2F;documentation&#x2F;master&#x2F;special-forms&#x2F;">Special forms</a>
                    </li>
                
            </ol>
        </nav>
    </aside>
    <div class="documentation__content">
        
    <h1>Special forms</h1>
    <h2 id="definition-def">Definition (def)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> name meta+ value)
</span></pre>
<p>This special form binds a value to a global symbol. A definition can not be redefined at a later point.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> my-name </span><span style="color:#718c00;">&quot;phel&quot;</span><span style="color:#4d4d4c;">)
(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> sum-of-three (+ </span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">))
</span></pre>
<p>To each definition a list of metadata can be attached. Metadata is either a keyword or a string that is used as docstring.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> my-private-variable </span><span style="color:#3e999f;">:private </span><span style="color:#f5871f;">12</span><span style="color:#4d4d4c;">)
(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> my-name </span><span style="color:#718c00;">&quot;Stores the name of this language&quot; &quot;Phel&quot;</span><span style="color:#4d4d4c;">)
</span></pre><h2 id="function-fn">Function (fn)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[params*] expr*)
</span></pre>
<p>Defines a function. A function consists of a list of parameters and a list of expression. The value of the last expression is returned as the result of the function. All other expression are only evaluated for side effects. If no expression is given, the function returns <code>nil</code>.</p>
<p>Function also introduce a new lexical scope that is not accessible outside of the function.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[]) </span><span style="color:#999999;"># Function with no arguments that returns nil.
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[x] x) </span><span style="color:#999999;"># The identitiy function
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[] </span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># A function that returns 3
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[a b] (+ a b)) </span><span style="color:#999999;"># A function that returns the sum of a and b
</span></pre>
<p>Function can also be defined as variadic function with an infite amount of arguments using the <code>&amp;</code> separator.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[&amp; args] (lenght args)) </span><span style="color:#999999;"># A variadic function that counts the arguments
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[a b c &amp;]) </span><span style="color:#999999;"># A variadic function with extra arguments ignored
</span></pre>
<p>Phel functions are equivalent to PHP functions.</p>
<h2 id="control-flow-if">Control flow (if)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if</span><span style="color:#4d4d4c;"> test then else?)
</span></pre>
<p>A control flow structure. First evaluates <em>test</em>. If <em>test</em> evaluates to <code>true</code>, only the <em>then</em> form is evaluated and the result is returned. If <em>test</em> evaluates to <code>false</code> only the <em>else</em> form is evaluated and the result is returned. If no <em>else</em> form is given, <code>nil</code> will be returned.</p>
<p>The <em>test</em> evaluates to <code>false</code> if its value is <code>false</code> or equal to <code>nil</code>. Every other value evaluates to <code>true</code>. In sense of PHP this means (<code>test != null &amp;&amp; test !== false</code>).</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#f5871f;">true 10</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># evaluates to 10
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#f5871f;">false 10</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># evaluates to nil
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#f5871f;">true </span><span style="color:#4d4d4c;">(print </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># prints 1 but not 2
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#f5871f;">0 </span><span style="color:#4d4d4c;">(print </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># prints 2
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#f5871f;">nil </span><span style="color:#4d4d4c;">(print </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># prints 2
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">if </span><span style="color:#4d4d4c;">@[] (print </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># prints 2
</span></pre><h2 id="statements-do">Statements (do)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">do</span><span style="color:#4d4d4c;"> expr*)
</span></pre>
<p>Evaluates the expressions in order and returns the value of the last expression. If no expression is given, <code>nil</code> is returned.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">do </span><span style="color:#f5871f;">1 2 3 4</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to 4
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">do </span><span style="color:#4d4d4c;">(print </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">) (print </span><span style="color:#f5871f;">3</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># Print 1, 2, and 3
</span></pre><h2 id="apply">Apply</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">apply</span><span style="color:#4d4d4c;"> f expr*)
</span></pre>
<p>Calls the function with the given arguments. The last argument must be a list of values, which are passed as seperate arguments, rather than a single list. Apply returns the result of the calling function.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">apply</span><span style="color:#4d4d4c;"> + [</span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">]) </span><span style="color:#999999;"># Evaluates to 6
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">apply</span><span style="color:#4d4d4c;"> + </span><span style="color:#f5871f;">1 2 </span><span style="color:#4d4d4c;">[</span><span style="color:#f5871f;">3</span><span style="color:#4d4d4c;">]) </span><span style="color:#999999;"># Evaluates to 6
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">apply</span><span style="color:#4d4d4c;"> + </span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># BAD! Last element must be a list
</span></pre><h2 id="local-bindings-let">Local bindings (let)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">let </span><span style="color:#4d4d4c;">[bindings*] expr*)
</span></pre>
<p>Creates a new lexical context with variables defined in bindings. Afterwards the list of expressions is evaluated and the value of the last expression is returned. If no expression is given <code>nil</code> is returned.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">let </span><span style="color:#4d4d4c;">[x </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">
      y </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">]
  (+ x y)) </span><span style="color:#999999;"># Evaluates to 3

</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">let </span><span style="color:#4d4d4c;">[x </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">
      y (+ x </span><span style="color:#f5871f;">2</span><span style="color:#4d4d4c;">)]) </span><span style="color:#999999;"># Evaluates to nil
</span></pre>
<p>All variables defined in <em>bindings</em> are immutable and can not be changed.</p>
<h2 id="throw">Throw</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">throw</span><span style="color:#4d4d4c;"> expr)
</span></pre>
<p>The <em>expr</em> is evaluated and thrown, therefore <em>expr</em> must return a value that implements PHP's <code>Throwable</code> interface.</p>
<h2 id="try">Try</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">try</span><span style="color:#4d4d4c;"> expr* catch-clause* finally-clause?)
</span></pre>
<p>All expressions are evaluated and if no exception is thrown the value of the last expression is returned. If an exception occurs and a matching <em>catch-clause</em> is provided, its expression is evaluated and the value is returned. If no matching <em>catch-clause</em> can be found the exception is propagated out of the function. Before returning normally or abnormally the optionally <em>finally-clause</em> is evaluated.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">try</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># evaluates to nil

</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">try 
  </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">throw </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> Exception)) 
  (</span><span style="color:#8959a8;">catch</span><span style="color:#4d4d4c;"> Exception e </span><span style="color:#718c00;">&quot;error&quot;</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># evaluates to &quot;error&quot;

</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">try 
  </span><span style="color:#4d4d4c;">(+ </span><span style="color:#f5871f;">1 1</span><span style="color:#4d4d4c;">)
  (</span><span style="color:#8959a8;">finally </span><span style="color:#4d4d4c;">(print </span><span style="color:#718c00;">&quot;test&quot;</span><span style="color:#4d4d4c;">))) </span><span style="color:#999999;"># Evaluates to 2 and prints &quot;test&quot;

</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">try 
  </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">throw </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> Exception)) 
  (</span><span style="color:#8959a8;">catch</span><span style="color:#4d4d4c;"> Exception e </span><span style="color:#718c00;">&quot;error&quot;</span><span style="color:#4d4d4c;">)
  (</span><span style="color:#8959a8;">finally </span><span style="color:#4d4d4c;">(print </span><span style="color:#718c00;">&quot;test&quot;</span><span style="color:#4d4d4c;">))) </span><span style="color:#999999;"># evaluates to &quot;error&quot; and prints &quot;test&quot;
</span></pre><h2 id="loops-and-recursion-loop-and-recur">Loops and recursion (loop and recur)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">loop </span><span style="color:#4d4d4c;">[bindings*] expr*)
</span></pre>
<p>The <code>loop</code> special form is exactly like <code>let</code> but also defines a recursion point at the top of the loop, with arity equal to the number of of bindings. This is mostly used in conjuction with <code>recur</code>.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">recur</span><span style="color:#4d4d4c;"> expr*)
</span></pre>
<p>Evaluates the expressions in order and rebinds them to the recursion point. A recursion point can be either a <code>fn</code> or a <code>loop</code>. The recur expressions must match the arity of the recursion point exactly.</p>
<p>Internally <code>recur</code> is implemented as a PHP while loop and therefore prevents the <em>Maximum function nesting level</em> errors.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">loop </span><span style="color:#4d4d4c;">[sum </span><span style="color:#f5871f;">0</span><span style="color:#4d4d4c;">
       cnt </span><span style="color:#f5871f;">10</span><span style="color:#4d4d4c;">]
  (</span><span style="color:#8959a8;">if </span><span style="color:#4d4d4c;">(= cnt </span><span style="color:#f5871f;">0</span><span style="color:#4d4d4c;">)
    sum
    (</span><span style="color:#8959a8;">recur </span><span style="color:#4d4d4c;">(+ cnt sum) (dec cnt))))

(</span><span style="color:#8959a8;">fn </span><span style="color:#4d4d4c;">[sum </span><span style="color:#f5871f;">0</span><span style="color:#4d4d4c;"> cnt </span><span style="color:#f5871f;">10</span><span style="color:#4d4d4c;">]
  (</span><span style="color:#8959a8;">if </span><span style="color:#4d4d4c;">(= cnt </span><span style="color:#f5871f;">0</span><span style="color:#4d4d4c;">)
    sum
    (</span><span style="color:#8959a8;">recur </span><span style="color:#4d4d4c;">(+ cnt sum) (dec cnt))))
</span></pre><h2 id="quote">Quote</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">quote</span><span style="color:#4d4d4c;"> form)
</span></pre>
<p>Yields the unevaluated <em>form</em>. Preceding a form with a single quote is a shorthand for <code>(quote form)</code>.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">quote </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to 1
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">quote</span><span style="color:#4d4d4c;"> hi) </span><span style="color:#999999;"># Evaluates the symbol hi
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">quote quote</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to the symbol quote
</span><span style="color:#4d4d4c;">
&#39;(</span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to the tuple (1 2 3)
</span><span style="color:#4d4d4c;">&#39;(print </span><span style="color:#f5871f;">1 2 3</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to the tuple (print 1 2 3). Nothing is printed.
</span></pre><h2 id="namespace-ns">Namespace (ns)</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">ns</span><span style="color:#4d4d4c;"> name imports*)
</span></pre>
<p>Defines the namespace for the current file add required imports to the environment. Imports can either be <em>uses</em> or <em>requires</em>. <em>Uses</em> are to import PHP classes and <em>require</em> is used to import Phel modules.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">ns</span><span style="color:#4d4d4c;"> my\namespace\module
  (</span><span style="color:#3e999f;">:use</span><span style="color:#4d4d4c;"> Some\Php\Class)
  (</span><span style="color:#3e999f;">:require</span><span style="color:#4d4d4c;"> my\phel\module))
</span></pre><h2 id="foreach">Foreach</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">foreach </span><span style="color:#4d4d4c;">[value valueExpr] expr*)
(</span><span style="color:#8959a8;">foreach </span><span style="color:#4d4d4c;">[key value valueExpr] expr*)
</span></pre>
<p>The <code>foreach</code> special form can be used to iterate over all kind of PHP datastructures. The return value of <code>foreach</code> is always <code>nil</code>. The <code>loop</code> special form should be prefered of the <code>foreach</code> special form whenever possible.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(foreach [v [1 2 3]]
  (print v)) # prints 1, 2 and 3

(foreach [k v #{&quot;a&quot; 1 &quot;b&quot; 2}]
  (print k)
  (print v)) # prints &quot;a&quot;, 1, &quot;b&quot; and 2
</span></pre><h2 id="php-class-instantiation">PHP class instantiation</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> expr args*)
</span></pre>
<p>Evaluates <code>expr</code> and creates a new PHP class using the arguments. The instance of the class is returned.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">ns</span><span style="color:#4d4d4c;"> my\module
  (</span><span style="color:#3e999f;">:use</span><span style="color:#4d4d4c;"> \DateTime))

(</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> DateTime) </span><span style="color:#999999;"># Returns a new instance of the DateTime class
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> DateTime </span><span style="color:#718c00;">&quot;now&quot;</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Returns a new instance of the DateTime class

</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/new </span><span style="color:#718c00;">&quot;</span><span style="color:#f5871f;">\\</span><span style="color:#718c00;">DateTimeImmutable&quot;</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># instantiate a new PHP class from string
</span></pre><h2 id="php-method-and-property-call">PHP method and property call</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/-&gt; </span><span style="color:#4d4d4c;">(methodname expr*))
(</span><span style="color:#8959a8;">php/-&gt;</span><span style="color:#4d4d4c;"> property)
</span></pre>
<p>Calls a method or property on a PHP object. Both <em>methodname</em> and <em>property</em> must symbols and can not be a evaluated value.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">ns</span><span style="color:#4d4d4c;"> my\module
  (</span><span style="color:#3e999f;">:use</span><span style="color:#4d4d4c;"> \DateInterval))

(</span><span style="color:#8959a8;">def</span><span style="color:#4d4d4c;"> di (</span><span style="color:#8959a8;">php/new</span><span style="color:#4d4d4c;"> \DateInterval </span><span style="color:#718c00;">&quot;PT30S&quot;</span><span style="color:#4d4d4c;">))

(</span><span style="color:#8959a8;">php/-&gt;</span><span style="color:#4d4d4c;"> di (format </span><span style="color:#718c00;">&quot;%s seconds&quot;</span><span style="color:#4d4d4c;">)) </span><span style="color:#999999;"># Evaluates to &quot;30 seconds&quot;
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/-&gt;</span><span style="color:#4d4d4c;"> di s) </span><span style="color:#999999;"># Evaluates to 30
</span></pre><h2 id="php-static-method-and-property-call">PHP static method and property call</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/:: </span><span style="color:#4d4d4c;">(methodname expr*))
(</span><span style="color:#8959a8;">php/::</span><span style="color:#4d4d4c;"> property)
</span></pre>
<p>Same as above, but for static calls on PHP classes.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">ns</span><span style="color:#4d4d4c;"> my\module
  (</span><span style="color:#3e999f;">:use</span><span style="color:#4d4d4c;"> \DateTimeImmutable))

(</span><span style="color:#8959a8;">php/::</span><span style="color:#4d4d4c;"> DateTimeImmutable ATOM) </span><span style="color:#999999;"># Evaluates to &quot;Y-m-d\TH:i:sP&quot;

# Evaluates to a new instance of DateTimeImmutable
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/::</span><span style="color:#4d4d4c;"> DateTimeImmutable (createFromFormat </span><span style="color:#718c00;">&quot;Y-m-d&quot; &quot;2020-03-22&quot;</span><span style="color:#4d4d4c;">)) 

</span></pre><h2 id="get-php-array-value">Get PHP-Array value</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aget</span><span style="color:#4d4d4c;"> arr index)
</span></pre>
<p>Equivalent to PHP's <code>arr[index] ?? null</code>.</p>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aget </span><span style="color:#4d4d4c;">[</span><span style="color:#718c00;">&quot;a&quot; &quot;b&quot; &quot;c&quot;</span><span style="color:#4d4d4c;">] </span><span style="color:#f5871f;">0</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to &quot;a&quot;
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aget </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/array </span><span style="color:#718c00;">&quot;a&quot; &quot;b&quot; &quot;c&quot;</span><span style="color:#4d4d4c;">) </span><span style="color:#f5871f;">1</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to &quot;1&quot;
</span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aget </span><span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/array </span><span style="color:#718c00;">&quot;a&quot; &quot;b&quot; &quot;c&quot;</span><span style="color:#4d4d4c;">) </span><span style="color:#f5871f;">5</span><span style="color:#4d4d4c;">) </span><span style="color:#999999;"># Evaluates to nil
</span></pre><h2 id="set-php-array-value">Set PHP-Array value</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aset</span><span style="color:#4d4d4c;"> arr index value)
</span></pre>
<p>Equivalent to PHP's <code>arr[index] = value</code>.</p>
<h2 id="append-php-array-value">Append PHP-Array value</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/apush</span><span style="color:#4d4d4c;"> arr value)
</span></pre>
<p>Equivalent to PHP's <code>arr[] = value</code>.</p>
<h2 id="unset-php-array-value">Unset PHP-Array value</h2>
<pre style="background-color:#ffffff;">
<span style="color:#4d4d4c;">(</span><span style="color:#8959a8;">php/aunset</span><span style="color:#4d4d4c;"> arr index)
</span></pre>
<p>Equivalent to PHP's <code>unset(arr[index])</code>.</p>


    </div>
</div>

<script src="/livereload.js?port=1024&amp;mindelay=10"></script></body>

</html>
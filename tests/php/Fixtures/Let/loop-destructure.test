--PHEL--
(ns test
  (:use \Phel\Lang\Nil))

(loop [[x & xs] [1 2 3 4]
       sum 0] 
  (if x 
    (if (php/instanceof x Nil) sum (recur xs (php/+ sum x)))))
--PHP--
$__phel_1_2 = \Phel\Lang\Tuple::createBracket(1,2,3,4);
$sum_3 = 0;
while(true) {
  $__phel_4_7 = $__phel_1_2;
  $__phel_5_8 = ($__phel_4_7)[(0)] ?? null;
  $x_9 = $__phel_5_8;
  $__phel_6_10 = ($GLOBALS["__phel"]["phel\\core"]["drop-destructure"]->get())(1, $__phel_4_7);
  $xs_11 = $__phel_6_10;
  if (\Phel\Lang\Truthy::isTruthy($x_9)) {
    if (\Phel\Lang\Truthy::isTruthy(($x_9 instanceof \Phel\Lang\Nil))) {
      $sum_3;
    } else {
      $__phel_12 = $xs_11;
      $__phel_13 = ($sum_3 + $x_9);
      $__phel_1_2 = $__phel_12;
      $sum_3 = $__phel_13;
      continue;

    }

  } else {

  }
  break;
}
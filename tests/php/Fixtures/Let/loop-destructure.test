--PHEL--
(ns test
  (:use \Phel\Lang\Nil))

(loop [[x & xs] [1 2 3 4]
       sum 0] 
  (if x 
    (if (php/== x nil) sum (recur xs (php/+ sum x)))))
--PHP--
$__phel_1_2 = \Phel\Lang\Tuple::createBracket(1,2,3,4);
$sum_3 = 0;
while(true) {
  $__phel_4_7 = $__phel_1_2;
  $__phel_5_8 = ($__phel_4_7)[(0)] ?? null;
  $__phel_6_9 = ($GLOBALS["__phel"]["phel\\core"]["next"]->get())($__phel_4_7);
  $x_10 = $__phel_5_8;
  $__phel_5_11 = $__phel_6_9;
  $xs_12 = $__phel_5_11;
  if (\Phel\Lang\Truthy::isTruthy($x_10)) {
    if (\Phel\Lang\Truthy::isTruthy(($x_10 == null))) {
      $sum_3;
    } else {
      $__phel_13 = $xs_12;
      $__phel_14 = ($sum_3 + $x_10);
      $__phel_1_2 = $__phel_13;
      $sum_3 = $__phel_14;
      continue;

    }

  } else {

  }
  break;
}